<!--
  @fileoverview BenchmarkResultsTable component that displays benchmark results in a table format.
  @component BenchmarkResultsTable
  @author Eva Ray
  @description This component renders benchmark results in a structured table format, allowing users to view various metrics
  such as average execution time, queries per second, and cache hits ratio. It uses a DataTable component to display the results.
  The style has been generated by an LLM.
 -->
<script setup>
import DataTable from './DataTable.vue'
import { computed } from 'vue'

const props = defineProps({
  results: {
    type: Array,
    required: true
  }
})

const headers = [
  { label: "Database", key: "dbName", headerClass: "results-db-header", cellClass: "results-db-cell" },
  { label: "Query", key: "queryName", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Average execution time (ms)", key: "avgExecutionTime", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Queries per second", key: "queryPerSecond", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Initial Connection Time (ms)", key: "initialConnectionTime", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Standard Deviation (ms)", key: "standardDeviation", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Variance (msÂ²)", key: "variance", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "95th Percentile (ms)", key: "percentile95", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Cache Hits Ratio (%)", key: "cacheHitsRatio", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Cache Hits", key: "cacheHits", headerClass: "results-metric-header", cellClass: "results-metric-cell" },
  { label: "Cache Misses", key: "cacheMisses", headerClass: "results-metric-header", cellClass: "results-metric-cell" }
]

const keyField = computed(() => {
  return "dbName-queryName"
})
</script>

<template>
  <DataTable
      :headers="headers"
      :items="results"
      :keyField="keyField"
  />
</template>